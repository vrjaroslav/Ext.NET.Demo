@model Dictionary<string, Dictionary<string, bool>>
@{
    var X = Html.X();
    int counter = 0;
}

@foreach (string objectType in Model.Keys)
{
    @(X.CheckboxGroup()
        .ID("RolesPermissionGroup" + objectType)
        .AnchorHorizontal("100%")
        .ColumnsWidths(new double[] { 0.5, 0.5 })
        .FieldLabel(objectType)
        .Items(i =>
        {
            foreach (string permission in Model[objectType].Keys)
            {
                i.Add((X.Hidden()
                    .Name("Index")
                    .Value(counter)
                ));
                
                i.Add((X.Hidden()
                    .Name("[" + counter + "].ObjectType")
                    .Value(objectType)
                ));
                
                i.Add(X.Checkbox()
                    .BoxLabel(permission)
                    .Checked(Model[objectType][permission])
                    .Name("[" + counter + "].PermissionType")
                    .InputValue(permission)
                );

                counter++;
            }
        })
    )
}