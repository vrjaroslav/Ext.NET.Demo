@model Dictionary<string, Dictionary<string, bool>>
@{
    var X = Html.X();
    int counter1 = 0;
    int counter2 = 0;
}

@foreach (string objectType in Model.Keys)
{
    counter2 = 0;
    @(X.Hidden()
        .Name("permissions[" + counter1 + "].Key")
        .Value(objectType)
    )
    
    @(X.CheckboxGroup()
        .ID("RolesPermissionGroup" + objectType)
        .AnchorHorizontal("100%")
        .ColumnsWidths(new double[] { 0.5, 0.5 })
        .FieldLabel(objectType)
        .Items(i =>
        {
            foreach (string permission in Model[objectType].Keys)
            {
                i.Add(X.Checkbox()
                    .BoxLabel(permission)
                    .Checked(Model[objectType][permission])
                    .Name("permissions[" + counter1 + "].Value[" + counter2 + "]")
                    .InputValue(permission)
                );

                counter2++;
            }
        })
    )
    counter1++;
}