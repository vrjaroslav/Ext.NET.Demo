@using Uber.Web.Helpers
@model Uber.Web.Models.GridPanelTopToolbarModel
@{
    var X = Html.X();
}

@if (Model.AddButtonAvailable)
{
    @(X.Button()
          .Text("Add")
          .Icon(Icon.Add)
          .Handler(string.Format("addRecordButtonHandler('{0}', new ({1}));", Model.ObjectType.Pluralize(), Model.ObjectType)))
}

@if (Model.DeleteButtonAvailable)
{
    @(X.Button()
          .ID(Model.ObjectType.Pluralize() + "DeleteButton")
          .Text("Delete")
          .Disabled(true)
          .Icon(Icon.Exclamation)
          .DirectEvents(de =>
          {
              de.Click.Url = Url.Action("Delete", Model.ObjectType.Pluralize());
              de.Click.Confirmation.Message = "Are you sure you want to delete this record?";
              de.Click.Confirmation.ConfirmRequest = true;
              de.Click.ExtraParams.Add(new Parameter("id", "getSelectedIdParameter(this.up('grid'))", ParameterMode.Raw));
              de.Click.Success = "recordDeleteSuccess(this, this.up('grid'), '" + Model.ObjectType.Pluralize() + "');";
          })
    )
}